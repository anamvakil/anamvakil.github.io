<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anam Vakil | Portfolio</title>
  <meta name="description" content="Anam Vakil ‚Äî Data Analyst portfolio. Projects, skills, experience, education, and contact." />

  <style>
    :root{
      /* ‚úÖ Brighter, less ‚Äúdark-blue corner‚Äù palette (Slate + Teal + Blue) */
      --bg: #0f172a;           /* slate */
      --bg2:#111c33;
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.74);
      --muted2: rgba(255,255,255,0.60);
      --border: rgba(255,255,255,0.14);

      --accent: #2dd4bf;       /* teal */
      --accent2:#60a5fa;       /* blue */

      --shadow: 0 10px 30px rgba(0,0,0,0.22);
      --shadowHover: 0 18px 44px rgba(0,0,0,0.35);
      --radius: 18px;

      --navH: 76px;            /* used for scroll offset */
    }

    *{ box-sizing: border-box; }
    html, body { height: 100%; }
    html{ scroll-behavior: smooth; }

    body{
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
    }

    /* ‚úÖ Visible, brighter background (less heavy dark corner) */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -2;
      background:
        radial-gradient(1000px 520px at 12% 10%, rgba(45,212,191,0.24), transparent 60%),
        radial-gradient(900px 520px at 88% 18%, rgba(96,165,250,0.22), transparent 60%),
        radial-gradient(1100px 820px at 50% 95%, rgba(255,255,255,0.08), transparent 62%),
        linear-gradient(180deg, rgba(255,255,255,0.03), transparent 35%, rgba(0,0,0,0.28));
    }
    body::after{
      content:"";
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      opacity: 0.12;
      mix-blend-mode: overlay;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
    }

    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 22px 20px 88px;
      background: transparent;
    }

    /* =========================
       NAV (desktop + mobile)
       ========================= */
    .nav{
      position: sticky;
      top: 0;
      z-index: 10;
      margin: 14px 0 18px;
    }

    .navInner{
      height: var(--navH);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      padding: 12px 14px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(17, 28, 51, 0.62); /* ‚úÖ lighter than before */
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      transition: background .25s ease, border-color .25s ease, box-shadow .25s ease;
    }
    .navInner.scrolled{
      background: rgba(17, 28, 51, 0.80);
      border-color: rgba(255,255,255,0.18);
      box-shadow: 0 16px 40px rgba(0,0,0,0.35);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      font-weight: 800;
      letter-spacing: -0.02em;
      white-space: nowrap;
      color: var(--text);
    }
    .dot{
      width: 12px; height: 12px;
      border-radius: 99px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 0 18px rgba(45,212,191,0.30);
    }

    .links{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      align-items: center;
    }
    .links a{
      text-decoration: none;
      color: var(--muted);
      font-size: 0.95rem;
      padding: 8px 10px;
      border-radius: 999px;
      transition: background .2s ease, color .2s ease, border-color .2s ease, transform .15s ease;
      border: 1px solid transparent;
    }
    .links a:hover{
      background: rgba(255,255,255,0.06);
      color: var(--text);
      transform: translateY(-1px);
    }
    .links a[data-nav].active{
      color: var(--text);
      background: rgba(255,255,255,0.08);
      border-color: rgba(255,255,255,0.16);
      box-shadow: 0 0 0 1px rgba(45,212,191,0.16) inset;
    }

    /* CTA */
    .navCta{
      margin-left: 6px;
      text-decoration: none;
      border-radius: 999px;
      padding: 9px 12px;
      border: 1px solid rgba(45,212,191,0.35);
      background: linear-gradient(135deg, rgba(45,212,191,0.22), rgba(96,165,250,0.12));
      color: var(--text);
      font-weight: 800;
      white-space: nowrap;
    }
    .navCta:hover{ transform: translateY(-1px); }

    /* Mobile burger */
    .burger{
      display:none;
      width: 46px; height: 46px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      cursor: pointer;
    }
    .burger span{
      display:block; width:18px; height:2px;
      background: rgba(255,255,255,0.85);
      position: relative;
      margin: 0 auto;
    }
    .burger span::before,
    .burger span::after{
      content:"";
      position:absolute; left:0;
      width:18px; height:2px;
      background: rgba(255,255,255,0.85);
    }
    .burger span::before{ top:-6px; }
    .burger span::after{ top: 6px; }

    .mobileMenu{
      display:none;
      margin-top: 10px;
      padding: 12px;
      border-radius: 18px;
      border: 1px solid var(--border);
      background: rgba(17, 28, 51, 0.80);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
    }
    .mobileMenu.open{ display:flex; }
    .mobileMenu{
      flex-direction: column;
      gap: 8px;
    }
    .mobileMenu a{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid transparent;
      color: var(--muted);
      background: rgba(255,255,255,0.04);
      text-decoration: none;
      font-weight: 700;
    }
    .mobileMenu a:hover{
      color: var(--text);
      background: rgba(255,255,255,0.08);
    }

    /* =========================
       HERO
       ========================= */
    .hero{
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 22px;
      align-items: stretch;
      margin-top: 18px;
      position: relative;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-28px;
      z-index:-1;
      background:
        radial-gradient(780px 460px at 30% 25%, rgba(45,212,191,0.18), transparent 60%),
        radial-gradient(720px 460px at 80% 55%, rgba(96,165,250,0.14), transparent 62%);
      filter: blur(16px);
      opacity: 0.95;
    }

    .card{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06); /* ‚úÖ slightly brighter */
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
    }

    .heroMain{ padding: 28px; }
    h1{
      margin: 0 0 10px;
      font-size: clamp(2.2rem, 4vw, 3.2rem);
      letter-spacing: -0.03em;
      line-height: 1.05;
    }
    .accent{ color: var(--accent); }
    .sub{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 1.05rem;
      line-height: 1.55;
      max-width: 62ch;
    }

    .ctaRow{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 16px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      text-decoration:none;
      border-radius: 999px;
      padding: 10px 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      transition: transform .2s ease, background .2s ease, box-shadow .2s ease;
      box-shadow: 0 10px 24px rgba(0,0,0,0.20);
      font-weight: 800;
    }
    .btn:hover{ transform: translateY(-2px); }
    .btn.primary{
      border: 1px solid rgba(45,212,191,0.38);
      background: linear-gradient(135deg, rgba(45,212,191,0.20), rgba(96,165,250,0.10));
    }

    .meta{
      margin-top: 18px;
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      color: var(--muted2);
      font-size: 0.92rem;
    }
    .pill{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
      padding: 8px 10px;
      border-radius: 999px;
      display:inline-flex;
      gap:8px;
      align-items:center;
    }

    .heroSide{
      padding: 18px;
      display:flex;
      flex-direction: column;
      gap: 12px;
    }
    .mini{
      padding: 16px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.12);
    }
    .mini h3{
      margin: 0 0 6px;
      font-size: 1rem;
      letter-spacing: -0.01em;
    }
    .mini p{
      margin: 0;
      color: var(--muted2);
      line-height: 1.45;
      font-size: 0.95rem;
    }
    .mini a{ color: var(--accent); text-decoration: none; font-weight: 800; }
    .mini a:hover{ text-decoration: underline; }

    /* =========================
       SECTIONS
       ========================= */
    section{ margin-top: 54px; scroll-margin-top: calc(var(--navH) + 30px); }

    .sectionTitle{
      display:flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
    }
    h2{
      margin: 0;
      font-size: 1.55rem;
      letter-spacing: -0.02em;
    }
    .hint{
      color: var(--muted2);
      font-size: 0.95rem;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 16px;
    }
    .col6{ grid-column: span 6; }
    .col4{ grid-column: span 4; }
    .col8{ grid-column: span 8; }
    .col12{ grid-column: span 12; }

    .block{ padding: 20px; }
    .block h3{ margin: 0 0 8px; font-size: 1.05rem; }
    .block p, .block li{
      color: var(--muted);
      line-height: 1.6;
      margin: 0;
      font-size: 0.98rem;
    }
    .block ul{ margin: 10px 0 0; padding-left: 18px; }

    .tags{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 12px;
    }
    .tag{
      font-size: 0.9rem;
      color: rgba(255,255,255,0.74);
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      padding: 8px 10px;
      border-radius: 999px;
    }

    /* Project cards */
    .proj{
      padding: 20px;
      display:flex;
      flex-direction: column;
      gap: 10px;
      transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
      background: rgba(255,255,255,0.06);
    }
    .proj:hover{
      transform: translateY(-6px);
      box-shadow: var(--shadowHover);
      background: rgba(255,255,255,0.08);
    }
    .proj .top{
      display:flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 10px;
    }
    .proj h3{ margin: 0; }
    .proj .badge{
      font-size: 0.85rem;
      color: rgba(255,255,255,0.88);
      border: 1px solid rgba(45,212,191,0.25);
      background: rgba(45,212,191,0.10);
      padding: 6px 10px;
      border-radius: 999px;
      white-space: nowrap;
    }
    .proj .linksRow{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 6px;
    }
    .proj .linksRow a{
      text-decoration:none;
      color: var(--accent);
      font-weight: 900;
      font-size: 0.95rem;
    }
    .proj .linksRow a:hover{ text-decoration: underline; }

    footer{
      margin-top: 80px;
      padding-top: 22px;
      border-top: 1px solid var(--border);
      color: var(--muted2);
      display:flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .small{ font-size: 0.92rem; color: var(--muted2); }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    /* =========================
       RESPONSIVE (Mobile-friendly)
       ========================= */
    @media (max-width: 980px){
      .hero{ grid-template-columns: 1fr; }
      .navInner{ border-radius: 22px; height: auto; padding: 12px 14px; }
    }

    @media (max-width: 900px){
      .col6, .col4, .col8{ grid-column: span 12; }
      .wrap{ padding: 18px 14px 70px; }
      .heroMain{ padding: 20px; }
      .heroSide{ padding: 14px; }
    }

    @media (max-width: 760px){
      :root{ --navH: 64px; }

      /* hide desktop links, show burger */
      #navLinks{ display:none; }
      .burger{ display:flex; align-items:center; justify-content:center; }

      h1{ font-size: clamp(1.8rem, 7vw, 2.4rem); }
      .sub{ font-size: 1rem; }

      .ctaRow .btn{ width: 100%; }   /* buttons full width */
      .meta .pill{ width: 100%; }    /* pills stacked */
    }
  </style>
</head>

<body>
  <div class="wrap">

    <!-- NAV -->
    <div class="nav">
      <div class="navInner">
        <a class="brand" href="#top">
          <span class="dot" aria-hidden="true"></span>
          <span>Anam Vakil</span>
        </a>

        <!-- Desktop links -->
        <div class="links" id="navLinks">
          <a href="#about" data-nav>About</a>
          <a href="#skills" data-nav>Skills</a>
          <a href="#projects" data-nav>Projects</a>
          <a href="#experience" data-nav>Experience</a>
          <a href="#education" data-nav>Education</a>
          <a href="#certs" data-nav>Certifications</a>
          <a href="#contact" data-nav>Contact</a>

          <!-- ‚úÖ Replace href later: e.g. href="Anam_Vakil_Resume.pdf" -->
          <a class="navCta" href="#" download>Download Resume</a>
        </div>

        <!-- Mobile burger -->
        <button class="burger" id="burger" aria-label="Open menu" aria-expanded="false">
          <span></span>
        </button>
      </div>

      <!-- Mobile menu -->
      <div class="mobileMenu" id="mobileMenu">
        <a href="#about" data-nav>About</a>
        <a href="#skills" data-nav>Skills</a>
        <a href="#projects" data-nav>Projects</a>
        <a href="#experience" data-nav>Experience</a>
        <a href="#education" data-nav>Education</a>
        <a href="#certs" data-nav>Certifications</a>
        <a href="#contact" data-nav>Contact</a>
        <a class="navCta" href="#" download>Download Resume</a>
      </div>
    </div>

    <!-- HERO -->
    <div id="top" class="hero">
      <div class="card heroMain">
        <h1>Hi, I‚Äôm <span class="accent">Anam</span> ‚Äî I build data systems & dashboards that drive decisions.</h1>
        <p class="sub">
          Data Analyst focused on Business Intelligence and practical analytics.
          I enjoy turning messy data into clean models, reliable pipelines, and clear insights for stakeholders.
        </p>

        <div class="ctaRow">
          <a class="btn primary" href="#projects">View Projects</a>
          <a class="btn" href="#contact">Contact Me</a>
          <!-- ‚úÖ Replace # with your real resume file -->
          <a class="btn" href="#" download>Download Resume</a>
        </div>

        <div class="meta">
          <span class="pill">üìç Ottawa, Canada</span>
          <span class="pill">üéì BISI @ Algonquin College</span>
          <span class="pill">‚òÅÔ∏è Cloud + BI + SQL</span>
        </div>
      </div>

      <div class="card heroSide">
        <div class="mini">
          <h3>Current Focus</h3>
          <p>SQL Server ‚Ä¢ Power BI ‚Ä¢ Python ‚Ä¢ AWS foundations</p>
        </div>
        <div class="mini">
          <h3>Open To</h3>
          <p>Co-op / Internship ‚Ä¢ Data Analyst ‚Ä¢ BI / Data roles</p>
        </div>
        <div class="mini">
          <h3>Quick Links</h3>
          <p>
            LinkedIn: <a href="#" target="_blank" rel="noreferrer">add link</a><br/>
            GitHub: <a href="#" target="_blank" rel="noreferrer">add link</a>
          </p>
        </div>
      </div>
    </div>

    <!-- ABOUT -->
    <section id="about">
      <div class="sectionTitle">
        <h2>About</h2>
        <div class="hint">What I do + how I work</div>
      </div>

      <div class="grid">
        <div class="card block col8">
          <h3>Who I am</h3>
          <p>
            I‚Äôm a Data Analyst (BI-focused) who loves structured problem solving ‚Äî from data cleaning and modeling
            to dashboards and decision-ready reporting. I enjoy translating business questions into measurable metrics,
            and building outputs that stakeholders can use confidently.
          </p>
          <p style="margin-top:10px;">
            I‚Äôm currently building portfolio projects across SQL Server, Power BI, and Python to strengthen my analytics toolkit.
          </p>
        </div>

        <div class="card block col4">
          <h3>Highlights</h3>
          <ul>
            <li>Strong in SQL, modeling (3NF), and BI concepts</li>
            <li>Hands-on projects: Churn ML + Address Register</li>
            <li>Focused on clean metrics + clear storytelling</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- SKILLS -->
    <section id="skills">
      <div class="sectionTitle">
        <h2>Skills</h2>
        <div class="hint">Tools I use to analyze + communicate</div>
      </div>

      <div class="grid">
        <div class="card block col4">
          <h3>Data & SQL</h3>
          <div class="tags">
            <span class="tag">SQL Server</span>
            <span class="tag">Joins & CTEs</span>
            <span class="tag">Constraints</span>
            <span class="tag">Normalization (3NF)</span>
          </div>
        </div>

        <div class="card block col4">
          <h3>BI & Reporting</h3>
          <div class="tags">
            <span class="tag">Power BI</span>
            <span class="tag">Dashboards</span>
            <span class="tag">KPIs</span>
            <span class="tag">Data Modeling</span>
          </div>
        </div>

        <div class="card block col4">
          <h3>Python & Analytics</h3>
          <div class="tags">
            <span class="tag">Python</span>
            <span class="tag">Pandas</span>
            <span class="tag">EDA</span>
            <span class="tag">Streamlit</span>
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects">
      <div class="sectionTitle">
        <h2>Projects</h2>
        <div class="hint">Selected work (add links when ready)</div>
      </div>

      <div class="grid">
        <div class="card proj col6">
          <div class="top">
            <h3>Telco Customer Churn Prediction</h3>
            <span class="badge">Python ‚Ä¢ ML</span>
          </div>
          <p>
            Built a churn prediction workflow with model evaluation and cross-validation, plus a simple app interface.
          </p>
          <div class="tags">
            <span class="tag">Logistic Regression</span>
            <span class="tag">Cross-validation</span>
            <span class="tag">Feature Engineering</span>
            <span class="tag">Streamlit</span>
          </div>
          <div class="linksRow">
            <a href="#" target="_blank" rel="noreferrer">GitHub</a>
            <a href="#" target="_blank" rel="noreferrer">Case Study</a>
          </div>
        </div>

        <div class="card proj col6">
          <div class="top">
            <h3>National Address Register (GA5)</h3>
            <span class="badge">SQL ‚Ä¢ Data Engineering</span>
          </div>
          <p>
            Designed staging + normalized schema and developed scripts for loading and transforming large datasets
            while maintaining referential integrity.
          </p>
          <div class="tags">
            <span class="tag">Staging Table</span>
            <span class="tag">3NF Schema</span>
            <span class="tag">T-SQL</span>
            <span class="tag">ERD</span>
          </div>
          <div class="linksRow">
            <a href="#" target="_blank" rel="noreferrer">SQL Scripts</a>
            <a href="#" target="_blank" rel="noreferrer">ERD</a>
            <a href="#" target="_blank" rel="noreferrer">Report</a>
          </div>
        </div>
      </div>
    </section>

    <!-- EXPERIENCE -->
    <section id="experience">
      <div class="sectionTitle">
        <h2>Experience</h2>
        <div class="hint">Work, volunteering, clubs</div>
      </div>

      <div class="grid">
        <div class="card block col12">
          <h3>Add your role here</h3>
          <p class="small">Organization ‚Ä¢ City ‚Ä¢ Dates</p>
          <ul>
            <li>Bullet with measurable impact (what you did + outcome)</li>
            <li>Tools used (SQL / Power BI / Excel / Python)</li>
            <li>Stakeholder communication / reporting</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- EDUCATION -->
    <section id="education">
      <div class="sectionTitle">
        <h2>Education</h2>
        <div class="hint">What I‚Äôm studying</div>
      </div>

      <div class="grid">
        <div class="card block col6">
          <h3>Algonquin College ‚Äî BISI (Co-op)</h3>
          <p class="small">Business Intelligence System Infrastructure ‚Ä¢ Ottawa ‚Ä¢ 2025‚Äì2026</p>
          <ul>
            <li>BI, databases, analytics, and cloud foundations</li>
            <li>Hands-on projects in SQL Server, Power BI, and Python</li>
          </ul>
        </div>

        <div class="card block col6">
          <h3>Additional Learning</h3>
          <ul>
            <li>Salesforce Trailhead (Admin learning)</li>
            <li>AWS foundations learning</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- CERTIFICATIONS -->
    <section id="certs">
      <div class="sectionTitle">
        <h2>Certifications</h2>
        <div class="hint">In progress counts too</div>
      </div>

      <div class="grid">
        <div class="card block col4">
          <h3>AWS</h3>
          <p>Cloud Practitioner (in progress)</p>
        </div>
        <div class="card block col4">
          <h3>Salesforce</h3>
          <p>Salesforce Administrator (in progress)</p>
        </div>
        <div class="card block col4">
          <h3>Power BI</h3>
          <p>Dashboards ‚Ä¢ modeling ‚Ä¢ insights</p>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact">
      <div class="sectionTitle">
        <h2>Contact</h2>
        <div class="hint">Let‚Äôs connect</div>
      </div>

      <div class="grid">
        <div class="card block col6">
          <h3>Email</h3>
          <p>Replace with your email: <span class="mono">anam@email.com</span></p>
          <div class="ctaRow" style="margin-top:12px;">
            <a class="btn primary" href="mailto:anam@email.com">Email Me</a>
          </div>
        </div>

        <div class="card block col6">
          <h3>Social</h3>
          <ul>
            <li><a href="#" target="_blank" rel="noreferrer" style="color:var(--accent); text-decoration:none; font-weight:900;">LinkedIn</a></li>
            <li><a href="#" target="_blank" rel="noreferrer" style="color:var(--accent); text-decoration:none; font-weight:900;">GitHub</a></li>
          </ul>
        </div>
      </div>
    </section>

    <footer>
      <div>¬© <span class="mono">2025</span> Anam Vakil</div>
      <div class="small">Mobile-friendly nav ‚úÖ ‚Ä¢ Responsive layout ‚úÖ ‚Ä¢ Brighter palette ‚úÖ</div>
    </footer>

  </div>

  <!-- =========================
       JS: Context-aware nav + mobile menu
       ========================= -->
  <script>
    // 1) Stronger blur when scrolled
    const navInner = document.querySelector('.navInner');
    const onScroll = () => {
      if (window.scrollY > 10) navInner.classList.add('scrolled');
      else navInner.classList.remove('scrolled');
    };
    window.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // 2) Highlight active section link while scrolling (desktop + mobile)
    const navLinks = Array.from(document.querySelectorAll('a[data-nav]'));
    const sections = navLinks
      .map(a => document.querySelector(a.getAttribute('href')))
      .filter(Boolean);

    function setActiveById(id){
      navLinks.forEach(a => {
        const isActive = a.getAttribute('href') === `#${id}`;
        a.classList.toggle('active', isActive);
        if (isActive) a.setAttribute('aria-current', 'page');
        else a.removeAttribute('aria-current');
      });
    }

    // Smooth scroll
    navLinks.forEach(a => {
      a.addEventListener('click', (e) => {
        const target = document.querySelector(a.getAttribute('href'));
        if (!target) return;
        e.preventDefault();
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        history.replaceState(null, '', a.getAttribute('href'));
      });
    });

    const observer = new IntersectionObserver((entries) => {
      const visible = entries
        .filter(e => e.isIntersecting)
        .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];

      if (visible && visible.target && visible.target.id) {
        setActiveById(visible.target.id);
      }
    }, {
      threshold: [0.2, 0.35, 0.5, 0.65],
      rootMargin: "-20% 0px -60% 0px"
    });

    sections.forEach(sec => observer.observe(sec));

    // On load
    if (location.hash) {
      const id = location.hash.replace('#','');
      if (document.getElementById(id)) setActiveById(id);
    } else if (sections[0]?.id) {
      setActiveById(sections[0].id);
    }

    // 3) Mobile menu toggle + close on click
    const burger = document.getElementById('burger');
    const mobileMenu = document.getElementById('mobileMenu');

    if (burger && mobileMenu) {
      burger.addEventListener('click', () => {
        const isOpen = mobileMenu.classList.toggle('open');
        burger.setAttribute('aria-expanded', String(isOpen));
      });

      mobileMenu.querySelectorAll('a').forEach(a => {
        a.addEventListener('click', () => {
          mobileMenu.classList.remove('open');
          burger.setAttribute('aria-expanded', 'false');
        });
      });
    }
  </script>
</body>
</html>
